

$:.unshift(File.expand_path(File.dirname(__FILE__) + '../lib'))
require 'fcs/segment/header'
require 'test/unit'

class TestFCSHeader < Test::Unit::TestCase
  BLOB = 'FCS3.0          58    2521    252214618130                /$FIL/A01 F480 10 ug.fcs/$SMNO/A1/#SAMPLE/F480 10 ug/$DATATYPE/I/$MODE/L/$BYTEORD/4,3,2,1/$NEXTDATA/0/$PAR/14/$P1B/32/$P2B/32/$P3B/32/$P4B/32/$P5B/32/$P6B/32/$P7B/32/$P8B/32/$P9B/32/$P10B/32/$P11B/32/$P12B/32/$P13B/32/$P14B/32/$P1R/16777216/$P2R/16777216/$P3R/16777216/$P4R/16777216/$P5R/16777216/$P6R/16777216/$P7R/16777216/$P8R/16777216/$P9R/16777216/$P10R/16777216/$P11R/16777216/$P12R/16777216/$P13R/16777216/$P14R/16777216/$P1N/FSC-A/$P2N/SSC-A/$P3N/FL1-A/$P4N/FL2-A/$P5N/FL3-A/$P6N/FL4-A/$P7N/FSC-H/$P8N/SSC-H/$P9N/FL1-H/$P10N/FL2-H/$P11N/FL3-H/$P12N/FL4-H/$P13N/Width/$P14N/Time/$P1E/0,0/#CFLOWDECADES1/7.224719870049579/$P2E/0,0/#CFLOWDECADES2/7.224719870049579/$P3E/0,0/#CFLOWDECADES3/7.224719870049579/$P4E/0,0/#CFLOWDECADES4/7.224719870049579/$P5E/0,0/#CFLOWDECADES5/7.224719870049579/$P6E/0,0/#CFLOWDECADES6/7.224719870049579/$P7E/0,0/#CFLOWDECADES7/7.224719870049579/$P8E/0,0/#CFLOWDECADES8/7.224719870049579/$P9E/0,0/#CFLOWDECADES9/7.224719870049579/$P10E/0,0/#CFLOWDECADES10/7.224719870049579/$P11E/0,0/#CFLOWDECADES11/7.224719870049579/$P12E/0,0/#CFLOWDECADES12/7.224719870049579/$P13E/0,0/#CFLOWDECADES13/7.224719870049579/$P14E/0,0/#CFLOWDECADES14/7.224719870049579/$P1S/FSC-A/$P2S/SSC-A/$P3S/F480-FITC-A/$P4S/CD11b-PE-A/$P5S/FL3-A/$P6S/FL4-A/$P7S/FSC-H/$P8S/SSC-H/$P9S/F480-FITC-H/$P10S/CD11b-PE-H/$P11S/FL3-H/$P12S/FL4-H/$P13S/Width/$P14S/Time/#P1VirtualGain/1.0/#P2VirtualGain/1.0/#P3VirtualGain/1.0/#P4VirtualGain/1.0/#P5VirtualGain/1.0/#P6VirtualGain/1.0/#P7VirtualGain/1.0/#P8VirtualGain/1.0/#P9VirtualGain/1.0/#P10VirtualGain/1.0/#P11VirtualGain/1.0/#P12VirtualGain/1.0/#P13VirtualGain/1.0/#P14VirtualGain/1.0/$TOT/260993/$DATE/11-OCT-2012/$CYT/Accuri C6/#CFLOW4COLORCOMP/0,5.0,0.0,0.0,10.0,0,0.0,0.0,0.0,0.0,0,0.0,0.0,0.0,0.0,0/#LASERCONFIGURATION/3 Blue 1 Red/$SPILLOVER/8,3,4,5,6,9,10,11,12,1.005,0.101,0.000,0.000,0.000,0.000,0.000,0.000,0.050,1.005,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,1.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,1.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,1.005,0.101,0.000,0.000,0.000,0.000,0.000,0.000,0.050,1.005,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,1.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,0.000,1.000/#CFLOWCAPTUREDDATE/1349984562040/$TIMESTEP/0.1/$PROJ/20121030_110903/$BTIM/15:42:55:22/$ETIM/15:44:34:78/#ATIM/98/#ACQUISITIONTIMEMILLI/98670/$VOL/55910/$BEGINSTEXT/58/$ENDSTEXT/2521/$BEGINDATA/2522/$ENDDATA/14618130/$BEGINANALYSIS/0/$ENDANALYSIS/0/#SPACERS/00/\u0000\u0016\x96\xDB\u0000\u0000{\x9A\u0000\u0000\n'
  def test_init
    hdr = FCS::Segment::Header.new(BLOB)
    assert(!hdr.nil?)
  end
  def test_values
    hdr = FCS::Segment::Header.new(BLOB)
    assert_equal('FCS3.0', hdr.version)
    assert_equal(58, hdr.text_begin)
    assert_equal(2521, hdr.text_end)
    assert_equal(2522, hdr.data_begin)
    assert_equal(14618130, hdr.data_end)
    assert_equal(0, hdr.analysis_begin)
    assert_equal(0, hdr.analysis_end)
  end
end

# vim: set sw=2 sts=2 ai et:
